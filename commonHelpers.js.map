{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/javascript.svg","../src/main.js"],"sourcesContent":["export function getImages(userText) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44427919-32b813221576803201dca5eed',\n    q: userText,\n    image_type: 'photo',\n    orientation: 'horisontal',\n    safesearch: 'true',\n    per_page: 50,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url)\n    .then(res => res.json())\n    .catch(error => {\n      iziToast.show({\n        iconUrl: imageUrl,\n        title: 'Error',\n        titleColor: 'white',\n        message: 'Error!',\n        messageColor: 'white',\n        messageSize: '16px',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        theme: 'dark',\n      });\n    });\n}\n","export function imageTemplate(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n  return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class=\"gallery-describe\">\n              <p class=\"gallery-text\">Likes <br>${likes}</p>\n              <p class=\"gallery-text\">Views<br>${views}</p>\n              <p class=\"gallery-text\">Comments<br>${comments}</p>\n              <p class=\"gallery-text\">Downloads<br>${downloads}</p>\n            </div>\n          </a>\n        </li>`;\n}\n\nexport function imagesTemplate(images) {\n  return images.hits.map(imageTemplate).join('');\n}\n","export default \"__VITE_ASSET__90c1298d__\"","import { getImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport imageUrl from '../src/img/javascript.svg';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n  galleryElem: document.querySelector('.gallery'),\n  searchBtn: document.querySelector('.search-btn'),\n  formElem: document.querySelector('.search-form'),\n  inputElem: document.querySelector('.search-input'),\n  galleryItem: document.querySelector('.gallery-item'),\n  loader: document.querySelector('.loader'),\n};\n\nnew SimpleLightbox('.gallery a', {\n  captionPosition: 'bottom',\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.formElem.addEventListener('submit', e => {\n  e.preventDefault();\n  showLoader();\n  const userText = refs.inputElem.value.trim();\n  if (userText.length <= 0) {\n    iziToast.show({\n      iconUrl: imageUrl,\n      title: 'Error',\n      titleColor: 'white',\n      message: 'This field must be filled in',\n      messageColor: 'white',\n      messageSize: '16px',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      theme: 'dark',\n    });\n    hideLoader();\n    refs.formElem.reset();\n  } else {\n    getImages(userText)\n      .then(data => {\n        if (data.hits.length > 0) {\n          const markup = imagesTemplate(data);\n          refs.galleryElem.innerHTML = markup;\n\n          new SimpleLightbox('.gallery-item a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          }).refresh();\n        } else {\n          iziToast.show({\n            iconUrl: imageUrl,\n            title: 'Error',\n            titleColor: 'white',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: 'white',\n            messageSize: '16px',\n            backgroundColor: '#ef4040',\n            position: 'topRight',\n            theme: 'dark',\n          });\n          hideLoader();\n        }\n      })\n      .catch(ERROR => {\n        iziToast.show({\n          iconUrl: imageUrl,\n          title: 'Error',\n          titleColor: 'white',\n          message: 'Error!',\n          messageColor: 'white',\n          messageSize: '16px',\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n          theme: 'dark',\n        });\n      })\n      .finally(() => {\n        hideLoader();\n      });\n    refs.formElem.reset();\n  }\n});\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n"],"names":["getImages","userText","BASE_URL","params","url","res","error","imageTemplate","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","imageUrl$1","refs","SimpleLightbox","e","showLoader","iziToast","imageUrl","hideLoader","data","markup","ERROR"],"mappings":"6vBAAO,SAASA,EAAUC,EAAU,CAClC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAS,CACd,SAAS,KAAK,CACZ,QAAS,SACT,MAAO,QACP,WAAY,QACZ,QAAS,SACT,aAAc,QACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,MACf,CAAO,CACP,CAAK,CACL,CC3BO,SAASC,EAAcC,EAAO,CACnC,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,0CACiCE,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,kDAEtBC,CAAK;AAAA,iDACNC,CAAK;AAAA,oDACFC,CAAQ;AAAA,qDACPC,CAAS;AAAA;AAAA;AAAA,cAI9D,CAEO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EAAO,KAAK,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC/C,CCzBA,MAAeW,EAAA,gDCQFC,EAAO,CAClB,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,aAAa,EAC/C,SAAU,SAAS,cAAc,cAAc,EAC/C,UAAW,SAAS,cAAc,eAAe,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,IAAIC,EAAe,aAAc,CAC/B,gBAAiB,SACjB,aAAc,MACd,aAAc,GAChB,CAAC,EAEDD,EAAK,SAAS,iBAAiB,SAAUE,GAAK,CAC5CA,EAAE,eAAc,EAChBC,IACA,MAAMrB,EAAWkB,EAAK,UAAU,MAAM,KAAI,EACtClB,EAAS,QAAU,GACrBsB,EAAS,KAAK,CACZ,QAASC,EACT,MAAO,QACP,WAAY,QACZ,QAAS,+BACT,aAAc,QACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,MACb,CAAK,EACDC,IACAN,EAAK,SAAS,UAEdnB,EAAUC,CAAQ,EACf,KAAKyB,GAAQ,CACZ,GAAIA,EAAK,KAAK,OAAS,EAAG,CACxB,MAAMC,EAASX,EAAeU,CAAI,EAClCP,EAAK,YAAY,UAAYQ,EAE7B,IAAIP,EAAe,kBAAmB,CACpC,aAAc,MACd,aAAc,GAC1B,CAAW,EAAE,QAAO,CACpB,MACUG,EAAS,KAAK,CACZ,QAASC,EACT,MAAO,QACP,WAAY,QACZ,QACE,2EACF,aAAc,QACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,MACnB,CAAW,EACDC,GAEV,CAAO,EACA,MAAMG,GAAS,CACdL,EAAS,KAAK,CACZ,QAASC,EACT,MAAO,QACP,WAAY,QACZ,QAAS,SACT,aAAc,QACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,MAAO,MACjB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbC,GACR,CAAO,EACHN,EAAK,SAAS,QAElB,CAAC,EAED,SAASG,GAAa,CACpBH,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CACA,SAASM,GAAa,CACpBN,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC"}